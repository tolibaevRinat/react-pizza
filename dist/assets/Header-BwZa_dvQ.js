import{R as r,u as h,s as d,j as e,a as x,g as m,b as j,L as u}from"./index-G6UGdeET.js";import{d as p}from"./Sort-Cg56dhDR.js";const _=()=>{const[c,l]=r.useState(""),a=h(),n=r.useRef(null);function i(){var s;l(""),a(d("")),(s=n.current)==null||s.focus()}const t=r.useCallback(p(s=>{a(d(s))},500),[]);function o(s){l(s.target.value),t(s.target.value)}return e.jsxs("div",{tabIndex:0,className:"search flex al-c gap-10 radius-10",children:[e.jsx("img",{className:"search__icon",src:"icons/search.svg",alt:" "}),e.jsx("input",{ref:n,value:c,onInput:o,className:"search__input",placeholder:"Поиск Пиццы"}),c&&e.jsx("button",{onClick:i,className:"search__btn",type:"button",children:e.jsx("img",{className:"search__clear",src:"icons/clear.svg",alt:" "})})]})},N=()=>{const c=r.useRef(!1),{totalPrice:l,items:a}=x(m),{pathname:n}=j();r.useEffect(()=>{if(c.current){const t=JSON.stringify(a);localStorage.setItem("cart",t)}c.current=!0},[a]);const i=a.reduce((t,o)=>o.count+t,0);return e.jsx("header",{className:"header",children:e.jsx("div",{className:"header__wrapper",children:e.jsxs("div",{className:"container flex jus-b al-c gap-20 f-wrap",children:[e.jsxs("div",{className:"header__main flex al-c gap-30 grow",children:[e.jsxs(u,{className:"header__logos flex al-c",to:"/",children:[e.jsx("img",{className:"header__logo",src:"icons/logo.svg",alt:"Логотип"}),e.jsxs("div",{className:"header__title",children:[e.jsx("h1",{children:"REACT PIZZA"}),e.jsx("span",{children:"самая вкусная пицца во вселенной"})]})]}),e.jsx(_,{})]}),n!=="/cart"&&e.jsxs(u,{className:"header__cart f-700 radius-30 flex al-c btn",to:"/cart",children:[e.jsxs("div",{className:"header__price rel",children:[l," ₽"]}),e.jsxs("div",{className:"header__count flex al-c ",children:[e.jsx("img",{src:"icons/cart.svg",alt:" "}),e.jsx("span",{children:i})]})]})]})})})};export{N as default};
